{"version":3,"file":"amplify.service.js","sourceRoot":"","sources":["../../../src/providers/amplify.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AAEvC,OAAO,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAE1D,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;;IAiBhD,wBAGS;;QAAA,YAAO,GAAP,OAAO;0BANK,IAAI,OAAO,EAAa;QAC7C,wBAAmB,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QAOjD,IAAM,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;QAElC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;QAE5C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC;;QAGrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;KACtB;IAED,6BAAI,GAAJ;QACC,OAAO,IAAI,CAAC,KAAK,CAAC;KAClB;IACD,kCAAS,GAAT;QACC,OAAO,IAAI,CAAC,UAAU,CAAC;KACvB;IACD,gCAAO,GAAP;QACC,OAAO,IAAI,CAAC,QAAQ,CAAC;KACrB;IACD,4BAAG,GAAH;QACC,OAAO,IAAI,CAAC,IAAI,CAAC;KACjB;IACD,qCAAY,GAAZ;QACC,OAAO,IAAI,CAAC,aAAa,CAAC;KAC1B;IACD,8BAAK,GAAL;QACC,OAAO,IAAI,CAAC,MAAM,CAAC;KACnB;IACD,+BAAM,GAAN;QACC,OAAO,IAAI,CAAC,OAAO,CAAC;KACpB;IACD,+BAAM,GAAN,UAAO,IAAI,EAAE,KAAM;QAClB,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KACrC;IACD,2BAAE,GAAF;QACC,OAAO,IAAI,CAAC,GAAG,CAAC;KAChB;IACD,6BAAI,GAAJ;QACC,OAAO,IAAI,CAAC,KAAK,CAAC;KAClB;IAED,kCAAS,GAAT;QACC,OAAO,IAAI,CAAC,UAAU,CAAC;KACvB;IACD,qCAAY,GAAZ,UAAa,KAAgB;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC5B;;gBA1ED,UAAU;;;;gDAgBR,MAAM,SAAC,SAAS,cAChB,QAAQ;;yBAvCX;;SAuBa,cAAc","sourcesContent":["// tslint:disable\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n// tslint:enable\n\nimport { Injectable, Optional, Inject } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport Amplify, { Logger, I18n } from '@aws-amplify/core';\nimport { AuthState } from './auth.state';\nimport { authDecorator } from './auth.decorator';\n\n@Injectable()\nexport class AmplifyService {\n\tprivate _auth: any;\n\tprivate _analytics: any;\n\tprivate _storage: any;\n\tprivate _api: any;\n\tprivate _cache: any;\n\tprivate _pubsub: any;\n\tprivate _interactions: any;\n\tprivate _logger: any;\n\tprivate _xr: any;\n\tprivate _i18n: any;\n\tprivate _authState = new Subject<AuthState>();\n\tauthStateChange$ = this._authState.asObservable();\n\n\tconstructor(\n\t\t@Inject('modules')\n\t\t@Optional()\n\t\tprivate modules: any = {}\n\t) {\n\t\tconst source = modules || Amplify;\n\n\t\tauthDecorator(this._authState, source.Auth);\n\n\t\tthis._auth = source.Auth;\n\t\tthis._analytics = source.Analytics;\n\t\tthis._storage = source.Storage;\n\t\tthis._api = source.API;\n\t\tthis._cache = source.Cache;\n\t\tthis._pubsub = source.PubSub;\n\t\tthis._interactions = source.Interactions;\n\t\tthis._xr = source.XR;\n\n\t\t// i18n and logger instantiated by default (do not change)\n\t\tthis._i18n = I18n;\n\t\tthis._logger = Logger;\n\t}\n\n\tauth(): any {\n\t\treturn this._auth;\n\t}\n\tanalytics(): any {\n\t\treturn this._analytics;\n\t}\n\tstorage(): any {\n\t\treturn this._storage;\n\t}\n\tapi(): any {\n\t\treturn this._api;\n\t}\n\tinteractions(): any {\n\t\treturn this._interactions;\n\t}\n\tcache(): any {\n\t\treturn this._cache;\n\t}\n\tpubsub(): any {\n\t\treturn this._pubsub;\n\t}\n\tlogger(name, level?): Logger {\n\t\treturn new this._logger(name, level);\n\t}\n\txr(): any {\n\t\treturn this._xr;\n\t}\n\ti18n(): any {\n\t\treturn this._i18n;\n\t}\n\n\tauthState() {\n\t\treturn this._authState;\n\t}\n\tsetAuthState(state: AuthState) {\n\t\tthis._authState.next(state);\n\t}\n}\n"]}